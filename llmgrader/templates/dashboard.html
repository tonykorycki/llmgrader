<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - AI-Auto Grader</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>

<!-- Top Banner -->
<div class="nyu-banner">
    <div class="left">
        <img src="{{ url_for('static', filename='images/nyu-logo.png') }}" 
             alt="NYU Logo" class="nyu-logo">
        <div class="title-section">
            <div class="title">Dashboard - OpenAI Grader</div>
            <div class="professors">Profs. Sundeep Rangan, Siddharth Garg</div>
        </div>
    </div>
</div>

<!-- Instructions -->
<div style="text-align: left; font-size: 0.85rem; margin-top: 4px; margin-bottom: 8px; padding: 0 16px;">
  <a href="https://sdrangan.github.io/hwdesign/aiautograder/"
     target="_blank"
     style="color: #57068c; text-decoration: none;">
     Instructions for using this grader
  </a>
  <span style="margin: 0 8px;">|</span>
  <a href="{{ url_for('api.home') }}" style="color: #57068c; text-decoration: none;">Back to Grader</a>
</div>

<div class="dashboard-container">
    
    <!-- Unit Selection -->
    <div class="dashboard-controls">
        <label for="dashboard-unit-select">Unit:</label>
        <select id="dashboard-unit-select">
            <option value="">Select a unit...</option>
        </select>
        <button id="download-submission-btn" class="download-btn">Download submission</button>
    </div>
    
    <!-- Dashboard Title -->
    <h1 class="dashboard-title">Dashboard</h1>
    
    <!-- Results Table -->
    <div class="dashboard-table-container">
        <table class="dashboard-table">
            <thead>
                <tr>
                    <th>Question</th>
                    <th>Required</th>
                    <th>Completed Parts</th>
                    <th>Points</th>
                </tr>
            </thead>
            <tbody id="dashboard-table-body">
                <tr>
                    <td colspan="4" style="text-align: center; color: #888;">
                        No data loaded. Select a unit to view results.
                    </td>
                </tr>
            </tbody>
            <tfoot id="dashboard-table-footer">
                <tr class="total-row">
                    <td colspan="3" style="text-align: right; font-weight: bold;">Total:</td>
                    <td id="total-all-points" style="font-weight: bold;">0/0</td>
                </tr>
                <tr class="total-row">
                    <td colspan="3" style="text-align: right; font-weight: bold;">Total (required):</td>
                    <td id="total-required-points" style="font-weight: bold;">0/0</td>
                </tr>
            </tfoot>
        </table>
    </div>
    
</div>

<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>

</body>
</html>
